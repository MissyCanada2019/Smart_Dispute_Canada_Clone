{% extends 'base.html' %}
{% block title %}Upload Evidence | SmartDispute.ai{% endblock %}

{% block content %}
<div class="container py-5">
    <h2 class="mb-4">Upload Evidence</h2>
    <p class="text-muted">Upload documents or images for a selected case. Our AI will analyze them to determine the legal issue, merit score, and recommend the correct form.</p>

    <form method="POST" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="case_id" class="form-label">Select Case</label>
            <select class="form-select" name="case_id" required>
                <option value="">Choose a case...</option>
                {% for case in cases %}
                    <option value="{{ case.id }}">{{ case.title }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="document" class="form-label">Upload Document</label>
            <input class="form-control" type="file" id="document" name="document" required accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
            <small class="text-muted">Accepted formats: PDF, Word, PNG, JPG</small>
        </div>

        <div class="mb-3">
            <label for="tag" class="form-label">Tag</label>
            <input type="text" class="form-control" name="tag" placeholder="e.g. Lease Agreement, Screenshot, Email">
        </div>

        <div class="mb-3">
            <label for="notes" class="form-label">Notes (optional)</label>
            <textarea class="form-control" name="notes" rows="3" placeholder="Optional notes for your own reference..."></textarea>
        </div>

        <button type="submit" class="btn btn-danger btn-lg w-100">Upload and Analyze</button>
    </form>
</div>
{% endblock %}
