<{% extends "base.html" %}
{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Admin Dashboard</h2>

  <div class="card mb-4">
    <div class="card-header">
      <strong>Users</strong>
    </div>
    <div class="card-body table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Email</th>
            <th>Full Name</th>
            <th>Role</th>
            <th>Subscription</th>
            <th>Verified</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{ user.email }}</td>
            <td>{{ user.full_name }}</td>
            <td>{{ user.role }}</td>
            <td>{{ user.subscription_type }}</td>
            <td>{{ 'Yes' if user.is_verified else 'No' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <strong>Cases</strong>
    </div>
    <div class="card-body table-responsive">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Title</th>
            <th>User</th>
            <th>Created</th>
            <th>Paid</th>
            <th>Legal Issue</th>
            <th>Merit</th>
          </tr>
        </thead>
        <tbody>
          {% for case in cases %}
          <tr>
            <td>{{ case.title }}</td>
            <td>{{ case.user.email }}</td>
            <td>{{ case.created_at.strftime('%Y-%m-%d') }}</td>
            <td>{{ 'Yes' if case.is_paid else 'No' }}</td>
            <td>{{ case.legal_issue or 'N/A' }}</td>
            <td>{{ case.confidence_score or 'N/A' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
